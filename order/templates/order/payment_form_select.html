{% extends "shared/layout.html" %} 
{% block content %} 
<body class="bg-blue-900 font-sans">
  <div class="container mx-auto py-10 px-[10%]">
    <!-- 回上一頁按鈕 -->
    <div class="mb-4">
      <a
        class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded"
        href="javascript:history.back()"
      >
        上一頁
      </a>
    </div>

    <div class="flex bg-white rounded-lg shadow-lg overflow-hidden p-6">
      <!-- 左側內容 -->
      <div class="w-1/2">
        <h1 class="text-2xl font-bold text-gray-800 mb-6">選擇支付方式</h1>

        <form method="post" action="">
          {% csrf_token %}
          <!-- 方案選擇 -->
          <div class="mb-6">
            <label for="plan" class="block text-gray-900 font-medium mb-2">方案</label>
            <select
              id="plan"
              name="plan"
              class="w-full p-3 border bg-white border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              onchange="togglePlanView(this.value)"
            >
              <option value="standard" {% if selected_plan == "standard" %}selected{% endif %}>
                一般方案
              </option>
              <option value="premium" {% if selected_plan == "premium" %}selected{% endif %}>
                專業方案
              </option>
            </select>
          </div>

          <!-- 支付方式 -->
          <div class="mb-6">
            <label for="payment-method" class="block text-gray-900 font-medium mb-2">支付方式</label>
            <select
              id="payment-method"
              name="payment_method"
              class="w-full p-3 border bg-white border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
              <option value="" disabled selected>請選擇</option>
              <option value="credit-card">信用卡</option>
              <option value="linepay">LINE Pay</option>
            </select>
          </div>

          <!-- 購買須知 -->
          <div class="flex items-center mb-4">
            <input
              type="checkbox"
              id="terms"
              class="appearance-none h-4 w-4 border border-blue-700 rounded bg-white checked:bg-blue-900 checked:border-blue-300 focus:ring-2 focus:ring-blue-200"
              onclick="toggleSubmitButton()"
            />
            <label for="terms" class="ml-2 text-gray-700">
              我已閱讀並同意購買須知。
            </label>
          </div>

          <!-- 按鈕區域 -->
          <div class="flex justify-between mb-4">
            <button
              type="button"
              class="bg-gray-400 hover:bg-gray-500 text-white font-semibold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline"
              onclick="history.back();"
            >
              上一步
            </button>
            <button
              type="submit"
              class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline"
              id="nextButton"
              disabled
            >
              <a href="{% url 'order:create_order' %}">下一步</a>
            </button>
          </div>
        </form>
      </div>

      <!-- 右側價格一般&專業方案 -->
      <div class="w-1/2 bg-gray-50 p-6 border-l">
        <div id="price-section">
          <!-- Standard Plan -->
          <div id="standard" class="block">
            <p class="text-4xl font-bold text-gray-800 mb-2">${{service.standard_price}}</p>
            <p class="text-gray-600 mb-4">
              一般版：{{service.standard_description}} 
            </p>
            <p class="text-sm text-red-500 mb-4">交付時間：{{service.standard_delivery_time}} 天</p>
          </div>
          <!-- Premium Plan -->
          <div id="premium" class="hidden">
            <p class="text-4xl font-bold text-gray-800 mb-2">${{service.premium_price}}</p>
            <p class="text-gray-600 mb-4">
              專業版：{{service.premium_description}} 
            </p>
            <p class="text-sm text-red-500 mb-4">交付時間：{{service.premium_delivery_time}} 天</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  {% load static %}
  <script src="{% static 'scripts/switching_tab_payment.js' %}"></script>
  
</body>
{% endblock %}



